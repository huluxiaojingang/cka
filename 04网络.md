# Networking 11%
- Understand the networking configuration on the cluster nodes
- Understand Pod networking concepts
- Understand service networking
- Deploy and configure network load balancer
- Know how to use Ingres rules
- Know how to configure and use the cluster DNS
- Understand CNI

# Pod网络

- 一个Pod一个IP，每个Pod独立IP，Pod内所有容器同一个IP。容器之间直接通信，不用NAT。Node和容器直接通信，不用NAT。其他容器和容器自身看到的IP一样
- 集群内访问走Service，集群外访问走Ingress
- CNI用于配置Pod网络，不支持docker网络

```
├── Kubernetes Master
├── kubelet create Pod
├── CRI
     ├── dockershim
     ├── containerd
├── network driver
     ├── kubenet
     ├── CNI
         ├── p2p
         ├── bridge
         ├── flannel
         ├── calico

dockershim 初始化pause容器网络namespace，bridge初始化pause容器网络设备。 用户容器Container A加入pause容器网络namespace

```

# CNI: Container Network Interface

- 容器网络的标准化
- 使用JSON描述网络配置
- 两类接口，配置网络-创建容器使用。清理网络-删除容器实使用

CNI插件配置路径：/etc/cni/net.d/xxx
CNI插件二进制文件：/opt/cni/bin/xxx

# Service

  Pod不是固定的，IP会变，所以抽象出Service层。Service 是一个虚拟IP+Port，通过labelSelector选中Pod。Pod 是running且ready时，会创建endpoint对象。k8s在DNS中创建记录。











